<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>website - Mapping Spatial Networks of Queer Pleasure Within New York City</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./index.html">Mapping Spatial Networks of Queer Pleasure Within New York City</a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">website</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Mapping Spatial Networks of Queer Pleasure Within New York City</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./about.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./another_page.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Contributor</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Mapping Spatial Networks of Queer Pleasure Within New York City</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>(Start by adding an introduction line to the map)</p>
<p>(map goes on this page)</p>
<p>(Below the map have the various locations listed with their open and close dates and any other information I have on them so far)</p>
<p>Bars and Clubs:</p>
<ol type="1">
<li><p>Bar Room 432/Mother: 432 West 14th Street, Meatpacking District. It was known as Bar Room 432 from 1990 until 1996. In 1996 it was reopened as Mother until it closed its doors in 2000.</p></li>
<li><p>Blue’s: 264 West 43rd Street, Theater District. It was a Black gay bar that was most famous for the raid the police conducted on the establishment in 1982. The bar closed in 1986 and a short lived drag bar opened in its place until a fire in 1992.</p></li>
<li><p>Boots and Saddle: formerly on Christopher Street then it moved to 100A 7th Avenue South, West Village. This gay bar opened in 1974 on Christopher Street but due to rent increases moved to its final location in 2015. In 2018 the bar closed due to unknown reasons.</p></li>
<li><p>Boy Bar: 15th St.&nbsp;Marks Place, East Village. Boy Bar was a gay bar in operation from 1984-1993. It was well known for its drag nights and drag events. The bar’s patrons included drag queens, “new wavers,” East Villagers, and LGBTQ people. After it closed the space became a punk venue called Coney Island High until 1999. In 2004 the space was turned into a residential building.</p></li>
<li><p>Club Expo/Kat Klub: 124 West 43rd Street, Mid-Town Manhattan</p></li>
<li><p>Chi Chiz: 135 Christopher Street (between Greenwich and Hudson), Greenwich Village. The Chi Chiz was one of the only black gay bars located in Greenwich Village. It operated from 1998 until 2010 when it was forced to close due to the owners being unable to pay citations from the State Liquor Authority and the NYPD who claimed the bar to be a public hazard.</p></li>
<li><p>Club 82: 82 East 4th Street, East Village. Club 82 was open from 1953 until 1973 and was well known for their drag queen and king performances. The club was owned by the mafia for many years and was mostly frequented by straight clients but maintained a relationship with the queer community. After its closure in 1973 the space hosted a rock club (1974-76), a cabaret, disco, strip club, in 1984 it became the “New Club 82” with drag shows and finally was a gay porn theater and backroom club in the 1990s until it closed in 2019.</p></li>
<li><p>Club Fahrenheit: 349 Broadway (Leonard St.), Tribeca</p></li>
<li><p>Crazy Nanny’s: 21 Seventh Ave (Leroy St.), West Village. Crazy Nanny’s was a lesbian bar in operation from 1991 until 2004. It’s owner was Elaine Romagonli and it operated on the ground and second floors of the building complete with two bars, pool tables TVs and a dance floor. The bar was known for hosting general LGBTQ+ fundraisers and events including live music and movie screenings to raise money and awareness for AIDS along with other causes.</p></li>
<li><p>Cubby Hole/Henrietta Hudson: 438-444 Hudson Street, Greenwich Village. The space operated as a lesbian bar operated by Elaine Romagonli called Cubby Hole from 1983 until 1990 after she closed her other bar Bonnie and Clyde. When the bar closed in 1990 Lisa Cannistraci and Minnie Rivera opened a new lesbian bar in the same space called Henrietta Hudson in 1991 which remains open to this day.</p></li>
<li><p>Cubbyhole: 281 West 12th Street, Greenwich Village. Cubbyhole is a lesbian bar that was owned by Tanya Saunders who changed the name from 12th Night from its previous owners to DT’s Fat Cat in 1987 until 1994 when she changed the name to Cubbyhole after Elaine Romagonli’s bar Cubby Hole closed down.</p></li>
<li><p>David Manscuso Residence/The Loft: 645-547 Broadway, Greenwich Village. The Loft was not a club or a bar but rather a weekly private dance party held on Saturday nights at David Mancuso’s apartment with a small cover charge to help him cover his rent. The party occurred at this address from 1970 until 1974 when he moved the party to 99 Prince Street from 1975 to 1985.</p></li>
<li><p>Duchess/Grove/Pandora’s Box: 70 Grove Street, Greenwich Village. Duchess a lesbian bar was the first queer bar to operate in the space from 1972 to 1982 but in 1982 its liquor license was revoked due to their refusal to sell alcohol to men. It then reopened as the Grove Cafe in 1983 and this name remained until 1989 before changing to the Duchess II. By 1990 it was renamed again and called the Grove Club. In 1992 it became Pandora’s Box. Throughout all of these iterations the establishment remained a lesbian bar with primarily African American and Hispanic patrons. The club closed sometime after 1992 due to legal troubles.</p></li>
<li><p>la Escuelita: 301 West 39th Street (8th Avenue) Mid-town Manhattan. La Escuelita was a Latin gay club known for playing House Latin music and hosting drag shows and balls. It opened around 1970 and closed in 2016 due to troubles with the State Liquor Authority. It was a long time club for Black and Latino queer people. The club had two short-lived other locations before establishing itself at the 301 address.</p></li>
<li><p>Flamingo: corner of Houston Street and Broadway, SoHo. The Flamingo was advertised as the first exclusively gay Disco opened in New York City. The club opened on December 14th 1974 and remained open until 1981. Disco was a very popular genre within the queer community so other clubs popped up like Studio 54 and The Saint before and after the Flamingo closed.</p></li>
<li><p>Foxy/Velvet: 167 Avenue A (10th Street), East Village. (maybe not an actual place I need to double check ig Velvet was ever a real thing…)</p></li>
<li><p>Julius’: 159 West 10th Street, Greenwich Village. Julius’ is a bar and restaurant that was not specifically catered to gay men but was a popular establishment for the queer community. It is most well known for the 1966 “Sip in” to protest the State Liquor Authority’s anti-gay discriminatory policy of removing bars liquor licenses if they were suspected of serving homosexuals. As of 2022 it has been designated as a New York City landmark as well as a state and national historic location in 2015 and 2016 respectively.</p></li>
<li><p>Kooky’s: 149 West 14th Street, Chelsea. Kooky’s was a mafia run lesbian bar that operated from 1965 until 1973 known for overpriced drinks and rough management that caused lesbians to eventually protest the treatment.</p></li>
<li><p>Life: 158 Bleecker Street, Greenwich Village</p></li>
<li><p>Limelight: 47 West 20th Street, Chelsea. Limelight was a gay nightclub that catered to a more inclusive audience including straight people and people of all races. The Limelight opened in 1983 in a renovated church building. In the 1980s it was known for playing disco and rock music but by the 1990s it played techno, goth, and industrial music. It was extremely popular with up to 15,000 people being recorded in a single night. It was caught in a few drug busts and court cases that caused it to close temporarily in the 1990s however by 2002 it was closed for good and reopened as Avalon from 2003 until 2007.</p></li>
<li><p>Meow Mix: 269 East Houston Street (Suffolk St.), East Village. Meow Mix was a sex-positive lesbian bar in operation from 1996 until 2004 when it closed due to a variety of issues with gentrification and harassment along with building issues. The bar was known for live music and was famous for its appearance in the movie <em>Chasing Amy</em>.</p></li>
<li><p>Ninth Circle: 169 West 10th Street, Greenwich Village</p></li>
<li><p>Paradise Garage: 84 King Street, Greenwich Village. Paradise Garage opened in 1977 and closed in 1987. It was a membership only gay nightclub that catered primarily towards gay African American men. The building was demolished in 2018. Known for all night dance parties it was allowed to stay open beyond bar hours because it served no food or alcohol only good music and dancing.</p></li>
<li><p>Pieces: 8 Christopher Street, Greenwich Village</p></li>
<li><p>Pompier Restaurant/Tenth of Always/Bonnie &amp; Clyde: 82 West 3rd Street, Greenwich Village. The space started as Pompier Restaurant which welcomed and appealed to the queer community from 1960 until 1968. It was run by the mafia as was the next business to enter the space Tenth of Always from 1968 until 1972. Tenth of Always operated as a late night “juice bar” geared towards teenagers. Then in 1972 Elaine Romagnoli took over and turned the two floors into a restaurant and a lesbian nightclub called Bonnie &amp; Clyde that remained in operation until 1981.</p></li>
<li><p>Pyramid: 101 Ave A (6th St.), East Village</p></li>
<li><p>Ramrod: 394-395 West Street, Greenwich Village. Ramrod was a gay leather bar that operated from 1973 until 1980. It closed due to a violent gay hate crime that occurred outside its doors. Ronald K. Crumpley, a homophobic law enforcement officer, opened fire near Ramrod on November 19, 1980 killing two men and injuring three others within the establishment before being arrested.</p></li>
<li><p>Roxy: 515 West 18th Street, Chelsea</p></li>
<li><p>Splash: 50 West 17th Street (6th Ave), Chelsea</p></li>
<li><p>Don Hill’s: 511 Greenwich St (Spring St.), Tribeca</p></li>
<li><p>Studio 54 (originally Gallo Opera House): 254 West 54th Street, Theater District. Studio 54 opened in 1977 and closed operations as a nightclub for gay and straight patrons in 1998. The club was known for its large capacity limits, velvet rope door policy, big name artists who performed within the establishment such as Boy George’s Culture Club and Wham!.</p></li>
<li><p>Suspect/Nowbar: 7th Avenue South (Leroy St.), West Village</p></li>
<li><p>The Anvil: 500 West 14th Street, Meatpacking District</p></li>
<li><p>The Barefoot Boy: 309 East 39th Street at Second Avenue, Hell’s Kitchen?</p></li>
<li><p>The Candle Bar: 309 Amsterdam Avenue between West 74th &amp; 75th Streets, Upper West Side</p></li>
<li><p>The Cock Ring: 180 Christopher Street at West Street, Greenwich Village</p></li>
<li><p>The International Stud: 733 Greenwich Street between Fourth Street &amp; Waverly Place, West Village</p></li>
<li><p>The Mine Shaft: 835 Washington Street, Greenwich Village</p></li>
<li><p>The Monster: 80 Grove Street, Greenwich Village</p></li>
<li><p>The Saint: 105 Second Avenue, East Village. The Saint was a gay members only nightclub that was open from 1980 until 1988. It was known for its large dance floor and planetarium dome along with its dance parties and talented DJs.</p></li>
<li><p>The Snake Pit: 215 West 10th Street, Greenwich Village. The Snake Pit was a gay bar most well known for the police raid that occurred on the property in 1970 that inspired the Gay Liberation Front along with other organizations to form a protest march. The police arrested 165 people and the injuries of one man who was impaled on a fence caused mass media coverage and protest over treatment of homosexuals and their establishments.</p></li>
<li><p>The Toilet: 400 West 14th Street, Meatpacking District</p></li>
<li><p>Townhouse: 236 East 58th Street, Midtown East</p></li>
<li><p>Tunnel: 220 12th Avenue, Chelsea</p></li>
<li><p>Twilo: 530 West 27th Street (10th Avenue), Chelsea. Twilo was a nightclub open from 1995 until 2001 when it finally lost its cabaret license due to the amount of drug overdoses and drug deals alleged to have occurred within the establishment.</p></li>
<li><p>Uncle Charlie’s: 56 Greenwich Avenue, Greenwich Village. Uncle Charlie’s was a gay video bar in operation from 1980 until 1997. It is most well known for the Islamic terrorist attack in 1990 when a pipe bomb was placed inside the bar and injured three men. It started a wave of protests about anti-gay discrimination and violence.</p></li>
<li><p>Vinyl: 6 Hubert Street, Tribeca</p></li>
</ol>
<p>Bathhouses:</p>
<ol type="1">
<li><p>Continental Baths at the Ansonia Hotel: 230 West 74th Street, Upper West Side. The Continental Baths operated from 1968 until 1976. The owner Steve Ostrow sought to improve the bathhouse experience by adding dancing, private rooms, a cabaret stage, sauna rooms, waterfalls, a gym, bar, STD clinic and sun roof deck. The place closed 1976 due to lack of interest as it catered to more straight patrons and tourists instead of increasing opportunities for gay public sex.</p></li>
<li><p>Everard Baths: 28 West 28th Street, Chelsea. The Everard Baths was a famous and long-lasting bathhouse in New York City. It opened its doors in 1888 and closed in 1986. The site originally was a Turkish bathhouse open to all men but by WWI it was considered a refuge by gay men. It was closed in 1986 by the mayor as an anti-AIDS measure to stop the spread of the disease.</p></li>
<li><p>Mt. Morris Baths: 28 East 125th Street, Harlem. The Mt. Morris Baths was in operation under that name from the 1920s until 2003 and it served as the only gay African American bathhouse in the city prior to the 1960s. Originally called the Mayer Baths and catering to Jewish patrons by the 1920s it had been renamed and now served African American queer men. During the AIDS crisis it was one of the few bathhouses to remain open and it worked to educate its patrons about safe sex and discouraged public sex. It closed in 2003 due to claimed structural issues.</p></li>
<li><p>New St.&nbsp;Marks Baths: 6 St.&nbsp;Mark’s Place, East Village. The St.&nbsp;Marks Baths opened in 1915 and catered originally to male immigrants. Only in the 1950s do gay men appear to be a large clientele for the Baths only at night. By the 1960s it was a fully gay bathhouse known for being uninviting and dirty. Bruce Mailman in 1979 bought the Baths and hoped to turn the reputation around by renovating and renaming it the New St.&nbsp;Marks Bath that was open 24 hours a day. It became a massive bathhouse with spaces for swimming, relaxing, and having public group sex. During the AIDS epidemic the New St.&nbsp;Marks Baths stayed open until 1985 when the city ordered every bathhouse to be closed. In that time the bath worked to provide sex education materials and condoms while still providing a safe space for men to have their sexual relations outside their homes.</p></li>
</ol>
<p>Cruising locations:</p>
<ol type="1">
<li><p>Central Park: Central Park, Upper East Side and Upper West Side. Central Park was a known cruising spot for queer men since it opened in 1857 however by the 1970s and 80s it was also used by the gay community for Gay Pride Marches. While its status as a cruising location became less prominent by the 1970s and 80s it is hard to imagine that it stopped being used in such a way therefore it remains on the list.</p></li>
<li><p>Greenwich Village Waterfront: Christopher Street Pier, Greenwich Village. The Greenwich Village Waterfront was an active gay cruising site from WWI until the mid 1980s due to its location in Greenwich Village and its many private sections. Now it still is connected to the queer community through art projects, community activism and its status as a place for marginalized gay youth.</p></li>
</ol>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/kedington27\.github\.io\/website-copy\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>